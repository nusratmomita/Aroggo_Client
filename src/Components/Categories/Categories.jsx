import React from "react";
import { useQuery } from "@tanstack/react-query";
import UseAxiosSecureAPI from "../../CustomHooks/UseAxiosSecureAPI";
import { Link } from "react-router";


const Categories = () => {
  const axiosApi = UseAxiosSecureAPI();

  const { data: categories = [], isLoading, error } = useQuery({
    queryKey: ["medicineCategories"],
    queryFn: async () => {
      const res = await axiosApi.get("/category");
      return res.data;
    }
  });
  console.log(categories)

  if (isLoading) return <p className="text-center text-2xl">Loading Categories...</p>;
  if (error) return <p className="text-center text-red-500">Failed to load categories.</p>;

  return (
      <div className="p-6 mt-10">
        <h1 className="text-5xl font-bold text-[#080c3b] mb-10 text-center">Top Medicine Categories</h1>
          <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
          {categories.map((cat, index) => (
              <div key={index}
                
                className="card bg-base-100 shadow-xl border border-[#DED3C4] hover:shadow-2xl transition-all"
              >
                <figure  className="h-48 bg-[#F4EBD3]">
                  <img
                    src={cat.categoryImage || "data:image/jpeg;base64,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"}
                    alt={cat.categoryName}
                    className="w-full h-full object-cover"
                  />
                </figure>
                <div className="card-body items-center text-center text-[#080c3b]">
                  <h2 className="card-title text-2xl capitalize">{cat.categoryName}</h2>
                  <p className="text-lg">{cat.count} Medicines Available</p>
                </div>

                <Link to={`/category/${cat.categoryName}`}>
                  <button className="w-full my-20 text-center flex gap-2 items-center mt-4 bg-[#98A1BC] hover:bg-[#7f88a1] transition-colors text-white py-2 px-6 rounded-full font-semibold text-lg">View More Medicines</button>
                </Link>
                
              </div>
          ))}
        </div>
      </div>
  );
};

export default Categories;
